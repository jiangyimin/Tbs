(function(){function e(){crudMS.masterValue=$("#type").val();var e=[];e.push({name:"depotId",value:crudMS.depotId}),e.push({name:"routeTypeId",value:crudMS.masterValue});var d=abp.utils.buildQueryString(e);$("#dg").datagrid({url:"PreRoutes/GridData"+d}),crudMS.selectRow()}$(function(){crudMS.options.service=abp.services.app.preRoute,crudMS.masterField="#routeTypeId",crudMS.depotId=$("#depotId").val(),crudMS.parentField="#preRouteId",crudMS.parentValue=0,abp.services.app.combo.getVehicleItems(crudMS.depotId).done(function(e){$("#vehicleId").combobox({data:e,valueField:"id",textField:"displayText"})}),abp.services.app.combo.getOutletItems(crudMS.depotId).done(function(e){$("#outletId").combobox({data:e,valueField:"id",textField:"displayText"})}),$.getComboItems("#taskTypeId","TaskType","Id","Cn","Name"),$("#type").combobox({onChange:e}),$("#dg").datagrid({onSelect:function(e,d){crudMS.parentValue=d.id,$("#dgSon1").datagrid({url:"PreRoutes/RouteTaskGridData/"+d.id})}}),e()})})();